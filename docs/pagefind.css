/* Pagefind Search Bar Styling */
:root {
  --pagefind-ui-scale: 0.8;
  --pagefind-ui-primary: #0366d6;
  --pagefind-ui-text: #393939;
  --pagefind-ui-background: #ffffff;
  --pagefind-ui-border: #eeeeee;
  --pagefind-ui-tag: #eeeeee;
}

#pagefindsearch {
    position: relative;
    width: 250px;
    display: inline-flex;
}

/* Force Doxygen search box to match width */
#MSearchBox {
    width: 250px !important;
    white-space: nowrap;
    display: inline-block !important;
}

#MSearchField {
    width: 200px !important; /* Adjust for icon */
}

#pagefindsearch input {
    text-align: left;
}

/* Force the drawer to float over content using fixed positioning to escape table constraints */
.pagefind-ui__drawer {
    position: fixed !important;
    top: 70px !important; /* Below the Doxygen header */
    right: 20px !important;
    width: 600px !important; /* Force a wide width */
    max-width: 90vw; /* Responsive safety */
    bottom: 20px !important; /* Constrain bottom to ensure it fits in viewport */
    height: auto !important; /* Let it grow but respect bottom */
    overflow-y: auto !important; /* Enable scrolling */
    background: var(--pagefind-ui-background, #ffffff);
    text-align: left !important; /* Reset alignment for results */
    box-shadow: 0 10px 30px rgba(0,0,0,0.3) !important;
    border-radius: 6px;
    z-index: 10000 !important;
    padding: 15px;
    display: none;
    border: 1px solid var(--pagefind-ui-border, #eeeeee);
    background-color: var(--pagefind-ui-background, #ffffff) !important;
    opacity: 1 !important;
}

/* Ensure results themselves are also opaque if needed */
.pagefind-ui__result {
    background-color: transparent !important; /* Let container background show */
}

/* Pagefind list cleanups */
.pagefind-ui__drawer ol, .pagefind-ui__drawer ul {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

.pagefind-ui__drawer li {
    margin-bottom: 10px;
}

.pagefind-ui__drawer:not(:empty) {
    display: block; 
}

#projectname {
    display: inline-block;
    vertical-align: middle;
    position: relative;
    z-index: 1;
}

/* Dark mode overrides */
@media (prefers-color-scheme: dark) {
    :root {
        --pagefind-ui-primary: #58a6ff;
        --pagefind-ui-text: #c9d1d9;
        --pagefind-ui-background: #0d1117;
        --pagefind-ui-border: #30363d;
        --pagefind-ui-tag: #161b22;
    }
    .pagefind-ui__drawer {
        background: #0d1117;
        border: 1px solid #30363d;
    }
}
